Search.setIndex({"docnames": ["index", "pages/modules", "pages/response", "pages/utils"], "filenames": ["index.rst", "pages/modules.rst", "pages/response.rst", "pages/utils.rst"], "titles": ["Welcome to Sim4Rec\u2019s documentation!", "Modules", "Response functions", "Utils"], "terms": {"modul": 0, "gener": 0, "embed": 0, "item": [0, 2], "selector": 0, "simul": [0, 2], "evalu": 0, "respons": [0, 1], "function": [0, 1], "base": [0, 1], "class": [0, 1, 3], "util": [0, 1], "datafram": [0, 1], "convert": 0, "except": 0, "transform": [0, 1, 2], "file": [0, 1], "manag": 0, "index": [0, 1, 3], "search": 0, "page": [0, 1], "serv": 1, "synthet": 1, "either": 1, "real": 1, "data": [1, 3], "process": 1, "all": [1, 2], "ar": [1, 2], "deriv": 1, "from": [1, 2, 3], "generatorbas": 1, "implement": [1, 2], "your": [1, 2], "own": [1, 2], "you": 1, "must": 1, "inherit": [1, 2], "basicli": 1, "fit": [1, 2], "provid": 1, "dataset": 1, "case": 1, "just": 1, "rememb": 1, "than": 1, "creat": [1, 2], "popul": 1, "sampl": [1, 2], "number": 1, "row": 1, "call": 1, "method": 1, "thi": 1, "those": [1, 2], "note": [1, 2], "take": 1, "fraction": 1, "size": 1, "If": 1, "user": [1, 2], "i": [1, 2], "interest": 1, "us": [1, 2, 3], "multipl": 1, "ones": 1, "e": 1, "g": 1, "model": [1, 2], "group": 1, "mix": 1, "result": [1, 2], "differ": 1, "look": 1, "compositegener": 1, "which": [1, 2], "can": [1, 2], "handl": 1, "list": [1, 2], "ha": 1, "proport": 1, "paramet": [1, 2, 3], "control": 1, "weight": [1, 2], "particular": 1, "time": 1, "sim4rec": [1, 2, 3], "label": 1, "str": [1, 2, 3], "seed": [1, 2], "int": [1, 2, 3], "none": [1, 2, 3], "string": 1, "fix": 1, "sequenc": 1, "dure": 1, "default": [1, 2, 3], "df": [1, 3], "pass": 1, "sourc": 1, "abstract": 1, "num_sampl": 1, "save": [1, 3], "sample_frac": 1, "float": [1, 2], "return": [1, 2, 3], "realdatagener": 1, "exist": [1, 2], "keep": 1, "sdvdatagener": 1, "id_column_nam": 1, "model_nam": 1, "gaussiancopula": 1, "parallelization_level": 1, "1": [1, 2], "device_nam": 1, "cpu": 1, "bunch": 1, "sdv": 1, "librari": 1, "column": [1, 2, 3], "name": [1, 2, 3], "identifi": 1, "possibl": 1, "valu": [1, 2], "copulagan": 1, "ctgan": 1, "tvae": 1, "parallel": 1, "level": 1, "pytorch": 1, "devic": 1, "The": [1, 2], "one": [1, 2], "should": [1, 2], "onli": 1, "featur": 1, "static": 1, "load": [1, 3], "filenam": [1, 3], "path": 1, "instanc": [1, 3], "restor": 1, "save_model": 1, "setdevic": 1, "chang": 1, "current": 1, "support": 1, "iter": [1, 2], "wrapper": 1, "each": 1, "normal": [1, 2], "sum": [1, 2], "For": [1, 2], "total": 1, "perform": [1, 2], "separ": 1, "accord": 1, "high": 1, "dimension": 1, "sparsiti": 1, "appli": 1, "befor": 1, "main": 1, "pipelin": [1, 2], "here": 1, "autoencod": 1, "estim": [1, 2], "chanc": 1, "spark": [1, 2, 3], "enough": 1, "propos": 1, "usag": 1, "exampl": [1, 2], "found": 1, "notebook": 1, "directori": 1, "encoderestim": 1, "inputcol": [1, 2, 3], "outputcol": [1, 2, 3], "hidden_dim": 1, "lr": 1, "batch_siz": 1, "num_loader_work": 1, "max_it": 1, "100": 1, "encod": 1, "part": 1, "train": 1, "incom": 1, "latent": 1, "represent": 1, "output": [1, 2, 3], "per": 1, "coordin": 1, "length": 1, "determin": [1, 2], "dimens": 1, "hidden": 1, "layer": 1, "learn": [1, 2], "rate": [1, 2], "batch": 1, "loader": 1, "maximum": 1, "encodertransform": 1, "append": 1, "equal": 1, "assign": 1, "given": 1, "while": 1, "make": [1, 2], "candid": 1, "pair": 1, "predict": 1, "recommend": 1, "system": 1, "It": 1, "option": 1, "algorithm": 1, "ani": [1, 2], "restrict": 1, "custom": [1, 2], "logic": [1, 2], "select": 1, "certain": 1, "could": 1, "some": 1, "busi": 1, "rule": 1, "avail": 1, "simpl": 1, "specif": 1, "price": 1, "offer": 1, "onlin": 1, "To": [1, 2], "itemselectionestim": 1, "pre": 1, "calcul": [1, 2], "itemselectiontransform": 1, "creation": 1, "both": 1, "": [1, 2], "defin": [1, 2], "overwrit": [1, 2], "_fit": [1, 2], "_transform": [1, 2], "userkeycolumn": 1, "itemkeycolumn": 1, "crossjoinitemestim": 1, "k": 1, "everi": 1, "random": [1, 2], "subsampl": 1, "state": [1, 2], "crossjoinitemtransform": 1, "item_df": 1, "ass": 1, "cross": 1, "join": 1, "wai": 1, "connect": 1, "generato": 1, "consist": 1, "follow": [1, 2], "step": 1, "respon": 1, "updat": 1, "histori": 1, "log": 1, "metric": 1, "refit": 1, "new": 1, "skip": 1, "depend": 1, "task": 1, "don": 1, "t": 1, "need": 1, "second": 1, "dont": 1, "an": [1, 2, 3], "input": [1, 2, 3], "want": 1, "more": 1, "pleas": 1, "refer": 1, "user_gen": 1, "item_gen": 1, "data_dir": 1, "log_df": 1, "user_key_col": 1, "user_idx": 1, "item_key_col": 1, "item_idx": 1, "spark_sess": [1, 3], "sparksess": [1, 3], "other": 1, "necessari": [1, 2], "field": 1, "update_log": 1, "session": [1, 3], "clear_log": 1, "clear": 1, "get_log": 1, "user_df": 1, "get": 1, "Will": 1, "get_user_item": 1, "tupl": 1, "sample_item": 1, "frac_item": 1, "sample_respons": 1, "recs_df": 1, "user_featur": 1, "item_featur": 1, "action_model": 1, "pipelinemodel": 1, "action": 1, "took": 1, "contain": 1, "ignor": 1, "respect": [1, 2], "sample_us": 1, "frac_us": 1, "wa": 1, "schema": [1, 3], "futur": 1, "compar": 1, "reset": 1, "see": 1, "evaluatemetr": 1, "userkeycol": 1, "itemkeycol": 1, "predictioncol": 1, "labelcol": 1, "replay_label_filt": 1, "0": [1, 2], "replay_metr": 1, "dict": 1, "mllib_metr": 1, "allow": 1, "qualiti": 1, "histor": 1, "experi": 1, "simultan": 1, "sever": 1, "mllib": 1, "replai": 1, "A": 1, "callabl": 1, "user_id": 1, "item_id": 1, "relev": 1, "true": [1, 2], "format": 1, "usual": 1, "retriev": 1, "score": [1, 2], "In": 1, "when": 1, "addition": 1, "filter": 1, "assum": 1, "posit": 1, "present": 1, "ground": 1, "truth": 1, "col": 1, "condit": 1, "treat": 1, "dictionari": 1, "http": 1, "sb": 1, "ai": 1, "lab": 1, "github": 1, "io": 1, "html": 1, "infrom": 1, "about": 1, "descript": 1, "same": 1, "regression_metr": 1, "multiclass_metr": 1, "binary_metr": 1, "__call__": 1, "evaluate_synthet": 1, "synth_df": 1, "real_df": 1, "against": 1, "logisticdetect": 1, "how": 1, "hard": 1, "distinguish": 1, "logist": 1, "regress": 1, "svcdetect": 1, "c": 1, "vector": [1, 2], "classif": [1, 2], "kstest": 1, "two": [1, 2], "kolmogorov": 1, "smirnov": 1, "test": 1, "distribut": [1, 2], "continu": 1, "empir": 1, "cdf": 1, "continuouskldiverg": 1, "approxim": 1, "kl": 1, "diverg": 1, "bin": 1, "turn": 1, "them": 1, "categor": 1, "comput": 1, "rel": 1, "entropi": 1, "without": 1, "qualitycontrolobject": 1, "relevancecol": 1, "response_funct": 1, "design": 1, "similar": [1, 2], "degre": 1, "between": [1, 2], "dkl_": 1, "norm": 1, "frac": 1, "n": 1, "sum_": 1, "qm_": 1, "syn": 1, "recs_": 1, "_truth_": 1, "where": 1, "supx": 1, "q": 1, "x": 1, "p": 1, "statist": 1, "dkl": 1, "greater": 1, "indic": 1, "lower": 1, "show": 1, "dissimilar": 1, "As": 1, "qm": 1, "formula": 1, "abov": 1, "measur": 1, "close": 1, "object": [1, 3], "test_log": 1, "real_rec": 1, "real_ground_truth": 1, "synthetic_rec": 1, "synthetic_ground_truth": 1, "includ": 1, "ks_test": 1, "predcol": 1, "target": 1, "kl_diverg": 1, "kullback": 1, "leibler": 1, "_div": 1, "first": 1, "behaviour": 2, "kind": 2, "reaction": 2, "binari": 2, "whether": 2, "click": 2, "gave": 2, "made": 2, "top": 2, "underli": 2, "actionmodelestim": 2, "actionmodeltransform": 2, "infer": 2, "proper": 2, "write": 2, "constantrespons": 2, "alwai": 2, "constant": 2, "noiserespons": 2, "mu": 2, "sigma": 2, "clipneg": 2, "bool": 2, "mean": 2, "standard": 2, "deviat": 2, "clip_neg": 2, "non": 2, "neg": 2, "cosinesimilatiri": 2, "cosin": 2, "rang": 2, "dens": 2, "bernoullirespons": 2, "probabl": 2, "parametricresponsefunct": 2, "pandas_to_spark": 3, "panda": 3, "notfittederror": 3, "emptydataframeerror": 3, "vectorelementextractor": 3, "extract": 3, "element": 3, "arrai": 3, "param": 3, "within": 3, "obj": 3, "pickl": 3, "dump": 3, "read": 3}, "objects": {"sim4rec": [[1, 0, 0, "-", "modules"], [2, 0, 0, "-", "response"], [3, 0, 0, "-", "utils"]], "sim4rec.modules": [[1, 1, 1, "", "CompositeGenerator"], [1, 1, 1, "", "CrossJoinItemEstimator"], [1, 1, 1, "", "CrossJoinItemTransformer"], [1, 1, 1, "", "EncoderEstimator"], [1, 1, 1, "", "EncoderTransformer"], [1, 1, 1, "", "EvaluateMetrics"], [1, 1, 1, "", "GeneratorBase"], [1, 1, 1, "", "ItemSelectionEstimator"], [1, 1, 1, "", "ItemSelectionTransformer"], [1, 1, 1, "", "QualityControlObjective"], [1, 1, 1, "", "RealDataGenerator"], [1, 1, 1, "", "SDVDataGenerator"], [1, 1, 1, "", "Simulator"], [1, 3, 1, "", "evaluate_synthetic"], [1, 3, 1, "", "kl_divergence"], [1, 3, 1, "", "ks_test"]], "sim4rec.modules.CompositeGenerator": [[1, 2, 1, "", "generate"], [1, 2, 1, "", "sample"]], "sim4rec.modules.CrossJoinItemEstimator": [[1, 2, 1, "", "_fit"]], "sim4rec.modules.CrossJoinItemTransformer": [[1, 2, 1, "", "_transform"]], "sim4rec.modules.EvaluateMetrics": [[1, 2, 1, "", "__call__"]], "sim4rec.modules.GeneratorBase": [[1, 2, 1, "", "fit"], [1, 2, 1, "", "generate"], [1, 2, 1, "", "sample"]], "sim4rec.modules.QualityControlObjective": [[1, 2, 1, "", "__call__"]], "sim4rec.modules.RealDataGenerator": [[1, 2, 1, "", "fit"], [1, 2, 1, "", "generate"]], "sim4rec.modules.SDVDataGenerator": [[1, 2, 1, "", "fit"], [1, 2, 1, "", "generate"], [1, 2, 1, "", "load"], [1, 2, 1, "", "save_model"], [1, 2, 1, "", "setDevice"]], "sim4rec.modules.Simulator": [[1, 2, 1, "", "clear_log"], [1, 2, 1, "", "get_log"], [1, 2, 1, "", "get_user_items"], [1, 2, 1, "", "sample_items"], [1, 2, 1, "", "sample_responses"], [1, 2, 1, "", "sample_users"], [1, 2, 1, "", "update_log"]], "sim4rec.response": [[2, 1, 1, "", "ActionModelEstimator"], [2, 1, 1, "", "ActionModelTransformer"], [2, 1, 1, "", "BernoulliResponse"], [2, 1, 1, "", "ConstantResponse"], [2, 1, 1, "", "CosineSimilatiry"], [2, 1, 1, "", "NoiseResponse"], [2, 1, 1, "", "ParametricResponseFunction"]], "sim4rec.utils": [[3, 1, 1, "", "EmptyDataFrameError"], [3, 1, 1, "", "NotFittedError"], [3, 1, 1, "", "VectorElementExtractor"], [3, 3, 1, "", "load"], [3, 3, 1, "", "pandas_to_spark"], [3, 3, 1, "", "save"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "function", "Python function"]}, "titleterms": {"welcom": 0, "sim4rec": 0, "": 0, "document": 0, "content": 0, "indic": 0, "tabl": 0, "modul": 1, "gener": 1, "embed": 1, "item": 1, "selector": 1, "simul": 1, "evalu": 1, "respons": 2, "function": 2, "base": 2, "class": 2, "util": 3, "datafram": 3, "convert": 3, "except": 3, "transform": 3, "file": 3, "manag": 3}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Welcome to Sim4Rec\u2019s documentation!": [[0, "welcome-to-sim4rec-s-documentation"]], "Contents:": [[0, null]], "Indices and tables": [[0, "indices-and-tables"]], "Modules": [[1, "module-sim4rec.modules"]], "Generators": [[1, "generators"]], "Embeddings": [[1, "embeddings"]], "Items selectors": [[1, "items-selectors"]], "Simulator": [[1, "simulator"]], "Evaluation": [[1, "evaluation"]], "Response functions": [[2, "module-sim4rec.response"], [2, "id1"]], "Base classes": [[2, "base-classes"]], "Utils": [[3, "module-sim4rec.utils"]], "Dataframe convertation": [[3, "dataframe-convertation"]], "Exceptions": [[3, "exceptions"]], "Transformers": [[3, "transformers"]], "File management": [[3, "file-management"]]}, "indexentries": {"compositegenerator (class in sim4rec.modules)": [[1, "sim4rec.modules.CompositeGenerator"]], "crossjoinitemestimator (class in sim4rec.modules)": [[1, "sim4rec.modules.CrossJoinItemEstimator"]], "crossjoinitemtransformer (class in sim4rec.modules)": [[1, "sim4rec.modules.CrossJoinItemTransformer"]], "encoderestimator (class in sim4rec.modules)": [[1, "sim4rec.modules.EncoderEstimator"]], "encodertransformer (class in sim4rec.modules)": [[1, "sim4rec.modules.EncoderTransformer"]], "evaluatemetrics (class in sim4rec.modules)": [[1, "sim4rec.modules.EvaluateMetrics"]], "generatorbase (class in sim4rec.modules)": [[1, "sim4rec.modules.GeneratorBase"]], "itemselectionestimator (class in sim4rec.modules)": [[1, "sim4rec.modules.ItemSelectionEstimator"]], "itemselectiontransformer (class in sim4rec.modules)": [[1, "sim4rec.modules.ItemSelectionTransformer"]], "qualitycontrolobjective (class in sim4rec.modules)": [[1, "sim4rec.modules.QualityControlObjective"]], "realdatagenerator (class in sim4rec.modules)": [[1, "sim4rec.modules.RealDataGenerator"]], "sdvdatagenerator (class in sim4rec.modules)": [[1, "sim4rec.modules.SDVDataGenerator"]], "simulator (class in sim4rec.modules)": [[1, "sim4rec.modules.Simulator"]], "__call__() (sim4rec.modules.evaluatemetrics method)": [[1, "sim4rec.modules.EvaluateMetrics.__call__"]], "__call__() (sim4rec.modules.qualitycontrolobjective method)": [[1, "sim4rec.modules.QualityControlObjective.__call__"]], "_fit() (sim4rec.modules.crossjoinitemestimator method)": [[1, "sim4rec.modules.CrossJoinItemEstimator._fit"]], "_transform() (sim4rec.modules.crossjoinitemtransformer method)": [[1, "sim4rec.modules.CrossJoinItemTransformer._transform"]], "clear_log() (sim4rec.modules.simulator method)": [[1, "sim4rec.modules.Simulator.clear_log"]], "evaluate_synthetic() (in module sim4rec.modules)": [[1, "sim4rec.modules.evaluate_synthetic"]], "fit() (sim4rec.modules.generatorbase method)": [[1, "sim4rec.modules.GeneratorBase.fit"]], "fit() (sim4rec.modules.realdatagenerator method)": [[1, "sim4rec.modules.RealDataGenerator.fit"]], "fit() (sim4rec.modules.sdvdatagenerator method)": [[1, "sim4rec.modules.SDVDataGenerator.fit"]], "generate() (sim4rec.modules.compositegenerator method)": [[1, "sim4rec.modules.CompositeGenerator.generate"]], "generate() (sim4rec.modules.generatorbase method)": [[1, "sim4rec.modules.GeneratorBase.generate"]], "generate() (sim4rec.modules.realdatagenerator method)": [[1, "sim4rec.modules.RealDataGenerator.generate"]], "generate() (sim4rec.modules.sdvdatagenerator method)": [[1, "sim4rec.modules.SDVDataGenerator.generate"]], "get_log() (sim4rec.modules.simulator method)": [[1, "sim4rec.modules.Simulator.get_log"]], "get_user_items() (sim4rec.modules.simulator method)": [[1, "sim4rec.modules.Simulator.get_user_items"]], "kl_divergence() (in module sim4rec.modules)": [[1, "sim4rec.modules.kl_divergence"]], "ks_test() (in module sim4rec.modules)": [[1, "sim4rec.modules.ks_test"]], "load() (sim4rec.modules.sdvdatagenerator static method)": [[1, "sim4rec.modules.SDVDataGenerator.load"]], "module": [[1, "module-sim4rec.modules"], [2, "module-sim4rec.response"], [3, "module-sim4rec.utils"]], "sample() (sim4rec.modules.compositegenerator method)": [[1, "sim4rec.modules.CompositeGenerator.sample"]], "sample() (sim4rec.modules.generatorbase method)": [[1, "sim4rec.modules.GeneratorBase.sample"]], "sample_items() (sim4rec.modules.simulator method)": [[1, "sim4rec.modules.Simulator.sample_items"]], "sample_responses() (sim4rec.modules.simulator method)": [[1, "sim4rec.modules.Simulator.sample_responses"]], "sample_users() (sim4rec.modules.simulator method)": [[1, "sim4rec.modules.Simulator.sample_users"]], "save_model() (sim4rec.modules.sdvdatagenerator method)": [[1, "sim4rec.modules.SDVDataGenerator.save_model"]], "setdevice() (sim4rec.modules.sdvdatagenerator method)": [[1, "sim4rec.modules.SDVDataGenerator.setDevice"]], "sim4rec.modules": [[1, "module-sim4rec.modules"]], "update_log() (sim4rec.modules.simulator method)": [[1, "sim4rec.modules.Simulator.update_log"]], "actionmodelestimator (class in sim4rec.response)": [[2, "sim4rec.response.ActionModelEstimator"]], "actionmodeltransformer (class in sim4rec.response)": [[2, "sim4rec.response.ActionModelTransformer"]], "bernoulliresponse (class in sim4rec.response)": [[2, "sim4rec.response.BernoulliResponse"]], "constantresponse (class in sim4rec.response)": [[2, "sim4rec.response.ConstantResponse"]], "cosinesimilatiry (class in sim4rec.response)": [[2, "sim4rec.response.CosineSimilatiry"]], "noiseresponse (class in sim4rec.response)": [[2, "sim4rec.response.NoiseResponse"]], "parametricresponsefunction (class in sim4rec.response)": [[2, "sim4rec.response.ParametricResponseFunction"]], "sim4rec.response": [[2, "module-sim4rec.response"]], "emptydataframeerror (class in sim4rec.utils)": [[3, "sim4rec.utils.EmptyDataFrameError"]], "notfittederror (class in sim4rec.utils)": [[3, "sim4rec.utils.NotFittedError"]], "vectorelementextractor (class in sim4rec.utils)": [[3, "sim4rec.utils.VectorElementExtractor"]], "load() (in module sim4rec.utils)": [[3, "sim4rec.utils.load"]], "pandas_to_spark() (in module sim4rec.utils)": [[3, "sim4rec.utils.pandas_to_spark"]], "save() (in module sim4rec.utils)": [[3, "sim4rec.utils.save"]], "sim4rec.utils": [[3, "module-sim4rec.utils"]]}})